(this.webpackJsonptwittor=this.webpackJsonptwittor||[]).push([[0],{217:function(e,t,a){e.exports=a.p+"static/media/error-404.24d5c66e.png"},219:function(e,t,a){e.exports=a(585)},228:function(e,t,a){},229:function(e,t,a){},231:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){},237:function(e,t,a){},238:function(e,t,a){},239:function(e,t,a){},240:function(e,t,a){},242:function(e,t,a){},301:function(e,t,a){},302:function(e,t,a){},303:function(e,t,a){},578:function(e,t,a){},579:function(e,t,a){},580:function(e,t,a){},584:function(e,t,a){},585:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),o=a.n(c),l=a(10),i=a(596),u=a(594),s=a(207),m=a(602),f=a(46),d=a(47),h=a(600),b=a(66),p=a.n(b);a(228);function v(e){var t=e.show,a=e.setShow,n=e.children;return r.a.createElement(h.a,{className:"basic-modal",show:t,onHide:function(){return a(!1)},centered:!0,size:"lg"},r.a.createElement(h.a.Header,null,r.a.createElement(h.a.Title,null,r.a.createElement("img",{src:p.a,alt:"Twittor"}))),r.a.createElement(h.a.Body,null,n))}var E=a(52),g=a(12),O=a(601),j=a(595),w=a(20),y=a(11);function C(e){return/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(String(e).toLowerCase())}var S="https://twittor73.herokuapp.com",N=a(138);function k(){return localStorage.getItem("token")}function L(){localStorage.removeItem("token")}function R(){var e=k();return e?(function(e){if(1e3*Object(N.a)(e).exp-Date.now()<0)return!0;return!1}(e)&&L(),Object(N.a)(e)):(L(),null)}a(229);function x(e){var t=e.setShowModal,a=Object(n.useState)({nombre:"",apellidos:"",email:"",password:"",repeatPassword:""}),c=Object(l.a)(a,2),o=c[0],i=c[1],f=Object(n.useState)(!1),d=Object(l.a)(f,2),h=d[0],b=d[1];return r.a.createElement("div",{className:"sing-up-form"},r.a.createElement("h2",null,"Crea tu cuenta"),r.a.createElement(O.a,{onSubmit:function(e){e.preventDefault();var a=0;Object(w.values)(o).some((function(e){return e&&a++,null})),a!==Object(w.size)(o)?y.b.warning("Completa todos los campos del formulario."):C(o.email)?o.password!==o.repeatPassword?y.b.warning("Las contrase\xf1as tienen que ser iguales."):Object(w.size)(o.password)<6?y.b.warning("La contrase\xf1a tiene que tener al menos 6 caracteres."):(b(!0),function(e){var t="".concat(S,"/registro"),a=Object(g.a)(Object(g.a)({},e),{},{email:e.email.toLowerCase(),fechaNacimiento:new Date});delete a.repeatPassword;var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};return fetch(t,n).then((function(e){return e.status>=200&&e.status<300?e.json():{code:404,message:"Email no disponible."}})).then((function(e){return e})).catch((function(e){return e}))}(o).then((function(e){e.code?y.b.warning(e.message):(y.b.success("El registro ha sido correcto."),t(!1),i({nombre:"",apellidos:"",email:"",password:"",repeatPassword:""}))})).catch((function(){y.b.error("Error del servidor. Int\xe9ntelo m\xe1s tarde!")})).finally((function(){b(!1)}))):y.b.warning("email inv\xe1lido!!!")},onChange:function(e){i(Object(g.a)(Object(g.a)({},o),{},Object(E.a)({},e.target.name,e.target.value)))}},r.a.createElement(O.a.Group,null,r.a.createElement(u.a,null,r.a.createElement(s.a,null,r.a.createElement(O.a.Control,{type:"text",placeholder:"Nombre",name:"nombre",defaultValue:o.nombre})),r.a.createElement(s.a,null,r.a.createElement(O.a.Control,{type:"text",placeholder:"Apellidos",name:"apellidos",defaultValue:o.apellidos})))),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Control,{type:"email",placeholder:"Correo Electr\xf3nico",name:"email",defaultValue:o.email})),r.a.createElement(O.a.Group,null,r.a.createElement(u.a,null,r.a.createElement(s.a,null,r.a.createElement(O.a.Control,{type:"password",placeholder:"Contrase\xf1a",name:"password",defaultValue:o.password})),r.a.createElement(s.a,null,r.a.createElement(O.a.Control,{type:"password",placeholder:"Repetir contrase\xf1a",name:"repeatPassword",defaultValue:o.repeatPassword})))),r.a.createElement(m.a,{variant:"primary",type:"submit"},h?r.a.createElement(j.a,{animation:"border"}):"Registrarse.")))}a(231);function P(e){var t=e.setRefreshCheckLogin,a=Object(n.useState)({email:"",password:""}),c=Object(l.a)(a,2),o=c[0],i=c[1],u=Object(n.useState)(!1),s=Object(l.a)(u,2),f=s[0],d=s[1];return r.a.createElement("div",{className:"sign-in-form"},r.a.createElement("h2",null,"Entrar"),r.a.createElement(O.a,{onSubmit:function(e){e.preventDefault();var a=0;Object(w.values)(o).some((function(e){return e&&a++,null})),Object(w.size)(o)!==a?y.b.warning("Completa todos los campos del formulario."):C(o.email)?(d(!0),function(e){var t="".concat(S,"/login"),a=Object(g.a)(Object(g.a)({},e),{},{email:e.email.toLowerCase()}),n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};return fetch(t,n).then((function(e){return e.status>=200&&e.status<300?e.json():{message:"Usuario o contrase\xf1a incorrectos."}})).then((function(e){return e})).catch((function(e){return e}))}(o).then((function(e){var a;e.message?y.b.warning(e.message):(a=e.token,localStorage.setItem("token",a),t(!0))})).catch((function(){y.b.error("Error del servicio, int\xe9ntelo m\xe1s tarde.")})).finally((function(){d(!1)}))):y.b.warning("El email es inv\xe1lido.")},onChange:function(e){i(Object(g.a)(Object(g.a)({},o),{},Object(E.a)({},e.target.name,e.target.value)))}},r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Control,{type:"email",name:"email",placeholder:"Correo electr\xf3nico",defaultValue:o.email})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Control,{type:"password",name:"password",placeholder:"Contrase\xf1a",defaultValue:o.password})),r.a.createElement(m.a,{variant:"primary",type:"submit"},f?r.a.createElement(j.a,{animation:"border"}):"Iniciar Sesi\xf3n.")))}var T=a(97),z=a.n(T);a(232);function _(e){var t=e.setRefreshCheckLogin,a=Object(n.useState)(!1),c=Object(l.a)(a,2),o=c[0],s=c[1],m=Object(n.useState)(null),f=Object(l.a)(m,2),d=f[0],h=f[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{className:"signin-signup",fluid:!0},r.a.createElement(u.a,null,r.a.createElement(A,null),r.a.createElement(B,{openModal:function(e){s(!0),h(e)},setShowModal:s,setRefreshCheckLogin:t}))),r.a.createElement(v,{show:o,setShow:s},d))}function A(){return r.a.createElement(s.a,{className:"signin-signup__left",xs:6},r.a.createElement("img",{src:z.a,alt:"Twittor"}),r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(f.a,{icon:d.d}),"Sigue lo que te interesa."),r.a.createElement("h2",null,r.a.createElement(f.a,{icon:d.f}),"Ent\xe9rate de que est\xe1 hablando la gente."),r.a.createElement("h2",null,r.a.createElement(f.a,{icon:d.a}),"Unete a la conversaci\xf3n.")))}function B(e){var t=e.openModal,a=e.setShowModal,n=e.setRefreshCheckLogin;return r.a.createElement(s.a,{className:"signin-signup__right",xs:6},r.a.createElement("div",null,r.a.createElement("img",{src:p.a,alt:"Twittor"}),r.a.createElement("h2",null," Mira lo que est\xe1 pasando en el mundo en este momento."),r.a.createElement("h3",null,"Unete a Twittor hoy mismo."),r.a.createElement(m.a,{variant:"primary",onClick:function(){return t(r.a.createElement(x,{setShowModal:a}))}},"Reg\xedstrate"),r.a.createElement(m.a,{variant:"outline-primary",onClick:function(){return t(r.a.createElement(P,{setRefreshCheckLogin:n}))}},"Iniciar sesi\xf3n")))}var I=Object(n.createContext)(),M=a(26),U=a(15),V=a(72),D=a(8),Z=a.n(D);function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function W(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var H=r.a.createElement("path",{d:"M12 0c-4.198 0-8 3.403-8 7.602 0 4.198 3.469 9.21 8 16.398 4.531-7.188 8-12.2 8-16.398 0-4.199-3.801-7.602-8-7.602zm0 11c-1.657 0-3-1.343-3-3s1.343-3 3-3 3 1.343 3 3-1.343 3-3 3z"}),q=function(e){var t=e.svgRef,a=e.title,n=W(e,["svgRef","title"]);return r.a.createElement("svg",G({width:24,height:24,viewBox:"0 0 24 24",ref:t},n),a?r.a.createElement("title",null,a):null,H)},F=r.a.forwardRef((function(e,t){return r.a.createElement(q,G({svgRef:t},e))}));a.p;function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function $(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var K=r.a.createElement("path",{d:"M14.851 11.923c-.179-.641-.521-1.246-1.025-1.749-1.562-1.562-4.095-1.563-5.657 0l-4.998 4.998c-1.562 1.563-1.563 4.095 0 5.657 1.562 1.563 4.096 1.561 5.656 0l3.842-3.841.333.009c.404 0 .802-.04 1.189-.117l-4.657 4.656c-.975.976-2.255 1.464-3.535 1.464-1.28 0-2.56-.488-3.535-1.464-1.952-1.951-1.952-5.12 0-7.071l4.998-4.998c.975-.976 2.256-1.464 3.536-1.464 1.279 0 2.56.488 3.535 1.464.493.493.861 1.063 1.105 1.672l-.787.784zm-5.703.147c.178.643.521 1.25 1.026 1.756 1.562 1.563 4.096 1.561 5.656 0l4.999-4.998c1.563-1.562 1.563-4.095 0-5.657-1.562-1.562-4.095-1.563-5.657 0l-3.841 3.841-.333-.009c-.404 0-.802.04-1.189.117l4.656-4.656c.975-.976 2.256-1.464 3.536-1.464 1.279 0 2.56.488 3.535 1.464 1.951 1.951 1.951 5.119 0 7.071l-4.999 4.998c-.975.976-2.255 1.464-3.535 1.464-1.28 0-2.56-.488-3.535-1.464-.494-.495-.863-1.067-1.107-1.678l.788-.785z"}),Q=function(e){var t=e.svgRef,a=e.title,n=$(e,["svgRef","title"]);return r.a.createElement("svg",J({width:24,height:24,fillRule:"evenodd",clipRule:"evenodd",ref:t},n),a?r.a.createElement("title",null,a):null,K)},X=r.a.forwardRef((function(e,t){return r.a.createElement(Q,J({svgRef:t},e))}));a.p;function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ee(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var te=r.a.createElement("path",{d:"M24 2v22h-24v-22h3v1c0 1.103.897 2 2 2s2-.897 2-2v-1h10v1c0 1.103.897 2 2 2s2-.897 2-2v-1h3zm-2 6h-20v14h20v-14zm-2-7c0-.552-.447-1-1-1s-1 .448-1 1v2c0 .552.447 1 1 1s1-.448 1-1v-2zm-14 2c0 .552-.447 1-1 1s-1-.448-1-1v-2c0-.552.447-1 1-1s1 .448 1 1v2zm6.687 13.482c0-.802-.418-1.429-1.109-1.695.528-.264.836-.807.836-1.503 0-1.346-1.312-2.149-2.581-2.149-1.477 0-2.591.925-2.659 2.763h1.645c-.014-.761.271-1.315 1.025-1.315.449 0 .933.272.933.869 0 .754-.816.862-1.567.797v1.28c1.067 0 1.704.067 1.704.985 0 .724-.548 1.048-1.091 1.048-.822 0-1.159-.614-1.188-1.452h-1.634c-.032 1.892 1.114 2.89 2.842 2.89 1.543 0 2.844-.943 2.844-2.518zm4.313 2.518v-7.718h-1.392c-.173 1.154-.995 1.491-2.171 1.459v1.346h1.852v4.913h1.711z"}),ae=function(e){var t=e.svgRef,a=e.title,n=ee(e,["svgRef","title"]);return r.a.createElement("svg",Y({width:24,height:24,viewBox:"0 0 24 24",ref:t},n),a?r.a.createElement("title",null,a):null,te)},ne=r.a.forwardRef((function(e,t){return r.a.createElement(ae,Y({svgRef:t},e))}));a.p;function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ce(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var oe=r.a.createElement("path",{d:"M12,11.2928932 L16.1464466,7.14644661 C16.3417088,6.95118446 16.6582912,6.95118446 16.8535534,7.14644661 C17.0488155,7.34170876 17.0488155,7.65829124 16.8535534,7.85355339 L12.7071068,12 L16.8535534,16.1464466 C17.0488155,16.3417088 17.0488155,16.6582912 16.8535534,16.8535534 C16.6582912,17.0488155 16.3417088,17.0488155 16.1464466,16.8535534 L12,12.7071068 L7.85355339,16.8535534 C7.65829124,17.0488155 7.34170876,17.0488155 7.14644661,16.8535534 C6.95118446,16.6582912 6.95118446,16.3417088 7.14644661,16.1464466 L11.2928932,12 L7.14644661,7.85355339 C6.95118446,7.65829124 6.95118446,7.34170876 7.14644661,7.14644661 C7.34170876,6.95118446 7.65829124,6.95118446 7.85355339,7.14644661 L12,11.2928932 Z"}),le=function(e){var t=e.svgRef,a=e.title,n=ce(e,["svgRef","title"]);return r.a.createElement("svg",re({width:24,height:24,viewBox:"0 0 24 24",ref:t},n),a?r.a.createElement("title",null,a):null,oe)},ie=r.a.forwardRef((function(e,t){return r.a.createElement(le,re({svgRef:t},e))}));a.p;function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function se(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var me=r.a.createElement("path",{fill:"#000000",fillRule:"evenodd",d:"M565,248.002473 C565,247.448823 565.443717,247 565.999807,247 L569.502301,247 C569.777173,247 570.09954,246.80092 570.221932,246.556135 L570.778068,245.443865 C570.900637,245.198725 571.22788,245 571.491005,245 L576.508995,245 C576.780169,245 577.09954,245.19908 577.221932,245.443865 L577.778068,246.556135 C577.900637,246.801275 578.214844,247 578.497699,247 L582.000193,247 C582.552371,247 583,247.455761 583,248.002473 L583,257.997527 C583,258.551177 582.555054,259 582.006602,259 L565.993398,259 C565.444759,259 565,258.544239 565,257.997527 L565,248.002473 Z M566,248 L570.437394,248 C570.708303,248 571.024681,247.80092 571.14366,247.556135 L571.900024,246 L576.150024,246 L576.851148,247.536133 C576.968077,247.79232 577.287834,248 577.554307,248 L582,248 L582,258 L566,258 L566,248 Z M574,257 C576.209139,257 578,255.209139 578,253 C578,250.790861 576.209139,249 574,249 C571.790861,249 570,250.790861 570,253 C570,255.209139 571.790861,257 574,257 Z M574,256 C575.656854,256 577,254.656854 577,253 C577,251.343146 575.656854,250 574,250 C572.343146,250 571,251.343146 571,253 C571,254.656854 572.343146,256 574,256 Z M580,252 C580.552285,252 581,251.552285 581,251 C581,250.447715 580.552285,250 580,250 C579.447715,250 579,250.447715 579,251 C579,251.552285 579.447715,252 580,252 Z M567,246.5 C567,246.223858 567.214035,246 567.504684,246 L568.495316,246 C568.774045,246 569,246.231934 569,246.5 L569,247 L567,247 L567,246.5 Z",transform:"translate(-565 -245)"}),fe=function(e){var t=e.svgRef,a=e.title,n=se(e,["svgRef","title"]);return r.a.createElement("svg",ue({width:18,height:14,viewBox:"0 0 18 14",ref:t},n),a?r.a.createElement("title",null,a):null,me)},de=r.a.forwardRef((function(e,t){return r.a.createElement(fe,ue({svgRef:t},e))}));a.p;function he(e,t){var a="".concat(S,"/leoTweets?id=").concat(e,"&pagina=").concat(t),n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(k())}};return fetch(a,n).then((function(e){return e.json()})).catch((function(e){return e}))}a(233);function be(e){var t=e.show,a=e.setShow,c=Object(n.useState)(""),o=Object(l.a)(c,2),i=o[0],u=o[1];return r.a.createElement(h.a,{className:"tweet-modal",show:t,onHide:function(){return a(!1)},centered:!0,size:"lg"},r.a.createElement(h.a.Header,null,r.a.createElement(h.a.Title,null,r.a.createElement(ie,{onClick:function(){return a(!1)}}))),r.a.createElement(h.a.Body,null,r.a.createElement(O.a,{onSubmit:function(e){e.preventDefault(),function(e){var t="".concat(S,"/tweet"),a={mensaje:e},n={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(k())},body:JSON.stringify(a)};return fetch(t,n).then((function(e){return e.status>=200&&e.status<300?{code:e.status,message:"Tweet enviado."}:{code:500,message:"Error del Servidor."}})).catch((function(e){return e}))}(i).then((function(e){(null===e||void 0===e?void 0:e.code)>=200&&(null===e||void 0===e?void 0:e.code)<300&&(y.b.success(e.message),a(!1),window.location.reload())})).catch((function(){y.b.warning("Error al enviar el tweet. Int\xe9ntelo m\xe1s tarde.")}))}},r.a.createElement(O.a.Control,{as:"textarea",rows:"6",placeholder:"\xbfQu\xe9 est\xe1 pensando?",onChange:function(e){return u(e.target.value)}}),r.a.createElement("span",{className:Z()("count",{error:i.length>280})},i.length),r.a.createElement(m.a,{type:"submmit",disabled:i.length>280||i.length<1},"Twittoar"))))}var pe=function(){return Object(n.useContext)(I)};a(234);function ve(e){var t=e.setRefreshCheckLogin,a=Object(n.useState)(!1),c=Object(l.a)(a,2),o=c[0],i=c[1],u=pe();return r.a.createElement("div",{className:"left-menu"},r.a.createElement("img",{className:"logo",src:p.a,alt:"twittor"}),r.a.createElement(M.b,{to:"/"},r.a.createElement(f.a,{icon:d.b})," Inicio"),r.a.createElement(M.b,{to:"/users"},r.a.createElement(f.a,{icon:d.f})," Usuarios"),r.a.createElement(M.b,{to:"/".concat(null===u||void 0===u?void 0:u._id)},r.a.createElement(f.a,{icon:d.e})," Perfil"),r.a.createElement(M.b,{to:"",onClick:function(){L(),t(!1)}},r.a.createElement(f.a,{icon:d.c})," Cerrar Sesi\xf3n"),r.a.createElement(m.a,{onClick:function(){return i(!0)}},"Twittoar"),r.a.createElement(be,{show:o,setShow:i}))}a(237);function Ee(e){e.className;var t=e.setRefreshCheckLogin,a=e.children;return r.a.createElement(i.a,{className:"basic-layout"},r.a.createElement(u.a,null,r.a.createElement(s.a,{xs:3,className:"basic-layout__menu"},r.a.createElement(ve,{setRefreshCheckLogin:t})),r.a.createElement(s.a,{xs:9,className:"basic-layout__content"},a)))}var ge=a(597),Oe=a(82),je=a.n(Oe),we=a(67),ye=a.n(we);function Ce(e){var t="".concat(S,"/verperfil?id=").concat(e),a={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(k())}};return fetch(t,a).then((function(e){if(e.status>=400)throw null;return e.json()})).then((function(e){return e})).catch((function(e){return e}))}function Se(e){var t="".concat(S,"/subirBanner"),a=new FormData;a.append("banner",e);var n={method:"POST",headers:{Authorization:"Bearer ".concat(k())},body:a};return fetch(t,n).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}))}function Ne(e){var t="".concat(S,"/subirAvatar"),a=new FormData;a.append("avatar",e);var n={method:"POST",headers:{Authorization:"Bearer ".concat(k())},body:a};return fetch(t,n).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}))}function ke(e){var t="".concat(S,"/modificarPerfil"),a={method:"PUT",headers:{Authorization:"Bearer @{getTokenApi()}"},body:JSON.stringify(e)};return fetch(t,a).then((function(e){return e})).catch((function(e){return e}))}a(238);function Le(e){var t=e.tweets;return r.a.createElement("div",{className:"list-tweets"},Object(w.map)(t,(function(e,t){return r.a.createElement(Re,{key:t,tweet:e})})))}function Re(e){var t,a=e.tweet,c=Object(n.useState)(null),o=Object(l.a)(c,2),i=o[0],u=o[1],s=Object(n.useState)(null),m=Object(l.a)(s,2),f=m[0],d=m[1];return Object(n.useEffect)((function(){Ce(a.userId).then((function(e){u(e),d((null===e||void 0===e?void 0:e.avatar)?"".concat(S,"/obtenerAvatar?id=").concat(e.id):ye.a)}))}),[a]),r.a.createElement("div",{className:"tweet"},r.a.createElement(ge.a,{className:"avatar",src:f,roundedCircle:!0}),r.a.createElement("div",null,r.a.createElement("div",{className:"name"},null===i||void 0===i?void 0:i.nombre," ",null===i||void 0===i?void 0:i.apellidos,r.a.createElement("span",null,je()(a.fecha).calendar())),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:(t=a.mensaje,null===t||void 0===t?void 0:t.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"))}})))}a(239);function xe(e){var t=[];return e.forEach((function(e){t.push({_id:e._id,userId:e.userRelationId,mensaje:e.Tweet.mensaje,fecha:e.Tweet.fecha})})),t}a(240);function Pe(e){var t=e.show,a=e.setShow,n=e.title,c=e.children;return r.a.createElement(h.a,{className:"config-modal",show:t,onHide:function(){return a(!1)},centered:!0,size:"lg"},r.a.createElement(h.a.Header,null,r.a.createElement(h.a.Title,null,r.a.createElement(ie,{onClick:function(){return a(!1)}}),r.a.createElement("h2",null,n))),r.a.createElement(h.a.Body,null,c))}var Te=a(98),ze=a.n(Te),_e=a(209),Ae=a(129),Be=a.n(Ae),Ie=a(218),Me=a(145);a(242);function Ue(e){var t=e.user,a=e.setShowModal,c=Object(n.useState)(function(e){return{nombre:e.nombre||"",apellidos:e.apellidos||"",biografia:e.biografia||"",uicacion:e.ubicacion||"",sitioWeb:e.sitioWeb||"",fechaNacimiento:e.fechaNacimiento||""}}(t)),o=Object(l.a)(c,2),i=o[0],f=o[1],d=Object(n.useState)((null===t||void 0===t?void 0:t.banner)?"".concat(S,"/obtenerBanner?id=").concat(t.id):null),h=Object(l.a)(d,2),b=h[0],p=h[1],v=Object(n.useState)(null),w=Object(l.a)(v,2),C=w[0],N=w[1],k=Object(n.useState)((null===t||void 0===t?void 0:t.avatar)?"".concat(S,"/obtenerAvatar?id=").concat(t.id):null),L=Object(l.a)(k,2),R=L[0],x=L[1],P=Object(n.useState)(null),T=Object(l.a)(P,2),z=T[0],_=T[1],A=Object(n.useState)(!1),B=Object(l.a)(A,2),I=B[0],M=B[1],U=Object(n.useCallback)((function(e){var t=e[0];p(URL.createObjectURL(t)),N(t)})),V=Object(Me.a)({accept:"image/jpeg, image/png, image/svg",noKeyboard:!0,multiple:!1,onDrop:U}),D=V.getRootProps,Z=V.getInputProps,G=Object(n.useCallback)((function(e){var t=e[0];x(URL.createObjectURL(t)),_(t)})),W=Object(Me.a)({accept:"image/jpeg, image/png, image/svg",noKeyboard:!0,multiple:!1,onDrop:G}),H=W.getRootProps,q=W.getInputProps,F=function(){var e=Object(_e.a)(ze.a.mark((function e(t){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),M(!0),!C){e.next=5;break}return e.next=5,Se(C).catch((function(){y.b.error("Error al subir el nuevo Banner")}));case 5:if(!z){e.next=8;break}return e.next=8,Ne(z).catch((function(){y.b.error("Error al subir el nuevo Avatar")}));case 8:return e.next=10,ke(i).then((function(){a(!1)})).catch((function(){y.b.error("Error al actualizar los datos del usuario.")})).finally((function(){M(!1),window.location.reload()}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(e){f(Object(g.a)(Object(g.a)({},i),{},Object(E.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"edit-user-form"},r.a.createElement("div",Object.assign({className:"banner",style:{backgroundImage:"url('".concat(b,"')")}},D()),r.a.createElement("input",Z()),r.a.createElement(de,null)),r.a.createElement("div",Object.assign({className:"avatar",style:{backgroundImage:"url('".concat(R,"')")}},H()),r.a.createElement("input",q()),r.a.createElement(de,null)),r.a.createElement(O.a,{onSubmit:F,onChange:J},r.a.createElement(O.a.Group,null,r.a.createElement(u.a,null,r.a.createElement(s.a,null,r.a.createElement(O.a.Control,{type:"text",placeholder:"Nombre",name:"nombre",defaultValue:i.nombre,onChange:J})),r.a.createElement(s.a,null,r.a.createElement(O.a.Control,{type:"text",placeholder:"Apellidos",name:"apellido",defaultValue:i.apellidos,onChange:J})))),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Control,{as:"textarea",row:"3",placeholder:"Agrega tu biograf\xeda.",type:"text",name:"biografia",defaultValue:i.biografia,onChange:J})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Control,{type:"text",placeholder:"Sitio web",name:"sitioWeb",defaultValue:i.sitioWeb,onChange:J})),r.a.createElement(O.a.Group,null,r.a.createElement(Be.a,{placeholder:"Fecha de nacimiento",locale:Ie.a,selected:new Date(i.fechaNacimiento),onChange:function(e){return f(Object(g.a)(Object(g.a)({},i),{},{fechaNacimiento:e}))}})),r.a.createElement(m.a,{className:"btn-submit",variant:"primary",type:"submit"},I&&r.a.createElement(j.a,{animation:"border",size:"sm"})," Actualizar")),r.a.createElement("h2",null,"EditUserForm..."))}a(301);function Ve(e){var t=e.user,a=e.loggedUser,c=Object(n.useState)(!1),o=Object(l.a)(c,2),i=o[0],u=o[1],s=Object(n.useState)(null),f=Object(l.a)(s,2),d=f[0],h=f[1],b=Object(n.useState)(!1),p=Object(l.a)(b,2),v=p[0],E=p[1],g=(null===t||void 0===t?void 0:t.banner)?"".concat(S,"/obtenerBanner?id=").concat(t.id):null,O=(null===t||void 0===t?void 0:t.avatar)?"".concat(S,"/obtenerAvatar?id=").concat(t.id):ye.a;Object(n.useEffect)((function(){t&&function(e){var t="".concat(S,"/consultaRelacion?id=").concat(e),a={headers:{Authorization:"Bearer ".concat(k())}};return fetch(t,a).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}))}(null===t||void 0===t?void 0:t.id).then((function(e){(null===e||void 0===e?void 0:e.status)?h(!0):h(!1)})),E(!1)}),[t,v]);return r.a.createElement("div",{className:"banner-avatar",style:{backgroundImage:"url('".concat(g,"')")}},r.a.createElement("div",{className:"avatar",style:{backgroundImage:"url('".concat(O,"')")}}),t&&r.a.createElement("div",{className:"options"},a._id===t.id&&r.a.createElement(m.a,{onClick:function(){return u(!0)}},"Editar perfil"),a._id!==t.id&&null!==d&&(d?r.a.createElement(m.a,{onClick:function(){(function(e){var t="".concat(S,"/bajaRelacion?id=").concat(e),a={method:"DELETE",headers:{Authorization:"Bearer ".concat(k())}};return fetch(t,a).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}))})(t.id).then((function(){E(!0)}))},className:"unfollow"},r.a.createElement("span",null,"Siguiendo")):r.a.createElement(m.a,{onClick:function(){(function(e){var t="".concat(S,"/altaRelacion?id=").concat(e),a={method:"POST",headers:{Authorization:"Bearer ".concat(k())}};return fetch(t,a).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}))})(t.id).then((function(){E(!0)}))}},"Seguir"))),r.a.createElement(Pe,{show:i,setShow:u,title:"Editar Perfil"},r.a.createElement(Ue,{user:t,setShowModal:u})))}var De=a(213),Ze=a.n(De);a(302);function Ge(e){var t=e.user;return r.a.createElement("div",{className:"info-user"},r.a.createElement("h2",{className:"name"},null===t||void 0===t?void 0:t.nombre," ",null===t||void 0===t?void 0:t.apellidos),r.a.createElement("p",{className:"email"},null===t||void 0===t?void 0:t.email),(null===t||void 0===t?void 0:t.biografia)&&r.a.createElement("div",{className:"description"},t.biografia),r.a.createElement("div",{className:"more-info"},(null===t||void 0===t?void 0:t.ubicacion)&&r.a.createElement("p",null,r.a.createElement(F,null),t.ubicacion),(null===t||void 0===t?void 0:t.sitioWeb)&&r.a.createElement("a",{href:t.sitioWeb,alt:t.sitioWeb,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(X,null)," ",t.sitioWeb),(null===t||void 0===t?void 0:t.fechaNacimiento)&&r.a.createElement("p",null,r.a.createElement(ne,null),je()(t.fechaNacimiento).locale("es",Ze.a).format("LL"))))}a(303),a(304);var We=Object(U.f)((function(e){var t=e.match,a=e.setRefreshCheckLogin,c=Object(n.useState)(null),o=Object(l.a)(c,2),i=o[0],u=o[1],s=Object(n.useState)(null),f=Object(l.a)(s,2),d=f[0],h=f[1],b=Object(n.useState)(1),p=Object(l.a)(b,2),v=p[0],E=p[1],g=Object(n.useState)(!1),O=Object(l.a)(g,2),w=O[0],C=O[1],S=t.params,N=pe();return Object(n.useEffect)((function(){Ce(S.id).then((function(e){e||y.b.error("El usuario que has visitado no existe."),u(e)})).catch((function(){y.b.error("El usuario que has visitado no existe.")}))}),[S]),Object(n.useEffect)((function(){he(S.id,1).then((function(e){h(e)})).catch((function(){h([])}))}),[S]),r.a.createElement(Ee,{className:"user",setRefreshCheckLogin:a},r.a.createElement("div",{className:"user__title"},r.a.createElement("h2",null,i?"".concat(i.nombre," ").concat(i.apellidos):"Este usuario no existe.")),r.a.createElement(Ve,{user:i,loggedUser:N}),r.a.createElement(Ge,{user:i}),r.a.createElement("div",{className:"user__tweets"},r.a.createElement("h3",null,"Tweets"),d&&r.a.createElement(Le,{tweets:d}),r.a.createElement(m.a,{onClick:function(){var e=v+1;C(!0),he(S.id,e).then((function(t){t?(h([].concat(Object(V.a)(d),Object(V.a)(t))),E(e),C(!1)):C(0)}))}},w?r.a.createElement(j.a,{as:"span",animation:"grow",size:"sm",role:"status","arian-hidden":"true"}):0!==w&&"Obtener m\xe1s Tweets")))})),He=a(599),qe=a(73),Fe=a.n(qe),Je=a(598);function $e(e){var t=e.user,a=Object(n.useState)(null),c=Object(l.a)(a,2),o=c[0],i=c[1];return Object(n.useEffect)((function(){Ce(t.id).then((function(e){i(e)}))}),[t]),r.a.createElement(Je.a,{as:M.b,to:"/".concat(t.id),className:"list-users__user"},r.a.createElement(ge.a,{width:64,heihgt:64,roundedCircle:!0,className:"mr-3",src:(null===o||void 0===o?void 0:o.avatar)?"".concat(S,"/obtenerAvatar?id=").concat(t.id):ye.a,alt:"".concat(t.nombre," ").concat(t.apellidos)}),r.a.createElement(Je.a.Body,null,r.a.createElement("h5",null,t.nombre," ",t.apellidos),r.a.createElement("p",null,null===o||void 0===o?void 0:o.biografia)))}a(578);function Ke(e){var t=e.users;return Object(w.isEmpty)(t)?r.a.createElement("h2",null,"No existe ning\xfan registro."):r.a.createElement("ul",{className:"list-user"},Object(w.map)(t,(function(e){return r.a.createElement($e,{key:e.id,user:e})})))}a(579);var Qe=Object(U.f)((function(e){var t=e.setRefreshCheckLogin,a=e.location,c=e.history,o=Object(n.useState)(null),i=Object(l.a)(o,2),u=i[0],s=i[1],f=function(e){var t=Fe.a.parse(e.search),a=t.page,n=void 0===a?1:a,r=t.type,c=void 0===r?"new":r,o=t.search;return{page:n,type:c,search:void 0===o?"":o}}(a),d=Object(n.useState)(f.type||"follow"),h=Object(l.a)(d,2),b=h[0],p=h[1],v=Object(n.useState)(null),E=Object(l.a)(v,2),O=E[0],y=E[1];Object(n.useEffect)((function(){(function(e){var t="".concat(S,"/listaUsuarios?").concat(e),a={headers:{Authorization:"Bearer ".concat(k())}};return fetch(t,a).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}))})(Fe.a.stringify(f)).then((function(e){1==f.page?Object(w.isEmpty)(e)?s([]):s(e):e?(s(Object(g.a)(Object(g.a)({},u),e)),y(!1)):y(0)})).catch((function(){s([])}))}),[a]);var C=function(e){s(null),p("new"===e?"new":"follow"),c.push({search:Fe.a.stringify({type:e,page:1,search:""})})};return r.a.createElement(Ee,{className:"users",title:"Usuarios",setRefreshCheckLogin:t},r.a.createElement("div",{className:"users__title"},r.a.createElement("h2",null,"Usuarios"),r.a.createElement("input",{type:"text",placeholder:"busca un usuario...",onChange:function(e){return c.push({search:Fe.a.stringify(Object(g.a)(Object(g.a)({},f),{},{search:e.target.value,page:1}))})}})),r.a.createElement(He.a,{className:"users__options"},r.a.createElement(m.a,{className:"follow"===b&&"active",onClick:function(){return C("follow")}},"Siguiendo"),r.a.createElement(m.a,{className:"new"===b&&"active",onClick:function(){return C("new")}},"Nuevos")),u?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ke,{users:u}),r.a.createElement(m.a,{onClick:function(){y(!0);var e=parseInt(f.page)+1;c.push({search:Fe.a.stringify(Object(g.a)(Object(g.a)({},f),{},{page:e}))})},className:"load-more"},O?r.a.createElement(j.a,{as:"span",animation:"grow",size:"sm","aria-hidden":"true"}):0!==O&&"Cargar mas usuarios")):r.a.createElement("div",{className:"users__loading"},r.a.createElement(j.a,{animation:"border",variant:"info"}),"Buscando usuarios..."))})),Xe=a(217),Ye=a.n(Xe);a(580);var et=[{path:"/users",exact:!0,page:Qe},{path:"/:id",exact:!0,page:We},{path:"/",exact:!0,page:function(e){var t=e.setRefreshCheckLogin,a=Object(n.useState)(null),c=Object(l.a)(a,2),o=c[0],i=c[1],u=Object(n.useState)(1),s=Object(l.a)(u,2),f=s[0],d=s[1],h=Object(n.useState)(!1),b=Object(l.a)(h,2),p=b[0],v=b[1];return Object(n.useEffect)((function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="".concat(S,"/leoTweetsSeguidores?pagina=").concat(e),a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(k())}};return fetch(t,a).then((function(e){return e.json()})).catch((function(e){return e}))})(f).then((function(e){if(!o&&e)i(xe(e));else if(e)v(0);else{var t=xe(e);i([].concat(Object(V.a)(o),Object(V.a)(t))),v(!1)}})).catch((function(){}))}),[f]),r.a.createElement(Ee,{className:"home",setRefreshCheckLogin:t},r.a.createElement("div",{className:"home__title"},r.a.createElement("h2",null,"Inicio")),o&&r.a.createElement(Le,{tweets:o}),r.a.createElement(m.a,{onClick:function(){v(!0),d(f+1)},className:"load-more"},p?r.a.createElement(j.a,{as:"span",animation:"grow",size:"sm",rote:"status","aria-hidden":"true"}):0!==p?"Obtener m\xe1s Tweets":"No hay m\xe1s Tweets"))}},{path:"*",page:function(){return r.a.createElement("div",{className:"error404"},r.a.createElement("img",{src:z.a,alt:"Twittor"}),r.a.createElement("img",{src:Ye.a,alt:"Error404"}),r.a.createElement(M.b,{to:"/"},"Volver al Inicio"))}}];function tt(e){var t=e.setRefreshCheckLogin;return r.a.createElement(M.a,null,r.a.createElement(U.c,null,Object(w.map)(et,(function(e,a){return r.a.createElement(U.a,{key:a,path:e.path,exact:e.exact},r.a.createElement(e.page,{setRefreshCheckLogin:t}))}))))}function at(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),i=Object(l.a)(o,2),u=i[0],s=i[1],m=Object(n.useState)(!1),f=Object(l.a)(m,2),d=f[0],h=f[1];return Object(n.useEffect)((function(){c(R()),h(!1),s(!0)}),[d]),u?r.a.createElement(I.Provider,{value:a},a?r.a.createElement(tt,{setRefreshCheckLogin:h}):r.a.createElement(_,{setRefreshCheckLogin:h}),r.a.createElement(y.a,{position:"top-right",autoClose:5e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggablepauseOnHover:!0})):null}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(581),a(582),a(583),a(584);o.a.render(r.a.createElement(at,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},66:function(e,t,a){e.exports=a.p+"static/media/logo-white.7fe61d83.png"},67:function(e,t,a){e.exports=a.p+"static/media/avatar-no-found.29a28302.png"},97:function(e,t,a){e.exports=a.p+"static/media/logo-blue.073ae261.png"}},[[219,1,2]]]);
//# sourceMappingURL=main.af303904.chunk.js.map